{"version":3,"sources":["components/Persons.js","components/Filter.js","components/PersonForm.js","components/Message.js","services/contacts.js","App.js","index.js"],"names":["Persons","persons","onDelete","styles","color","map","person","style","name","number","onClick","id","Filter","value","onChange","PersonForm","onSubmit","onHandleName","onHandleNumber","type","Message","message","success","divStyle","background","fontSize","borderStyle","borderRadius","padding","marginBottom","baseUrl","axios","get","then","response","data","post","put","delete","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","searchInput","setSearchInput","setMessage","successMessage","setSuccessMessage","useEffect","contacts","catch","err","setTimeout","personsToShow","filter","toLowerCase","includes","backgroundColor","borderColor","event","target","preventDefault","newPerson","existingPerson","find","window","confirm","updatedPerson","createdPerson","concat","p","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a6334756.chunk.js","sourcesContent":["import React from 'react';\n\nconst Persons = ({ persons, onDelete }) => {\n  const styles = {\n    color: 'purple'\n  };\n  return (\n    <div>  \n        {persons.map(person =>\n          <p key={person.id} style={styles}>\n            {person.name} {person.number} <button onClick={() => onDelete(person)}>delete</button>\n          </p> \n        )}\n    </div>\n  );\n};\n\nexport default Persons;","import React from 'react';\n\nconst Filter = ({ value, onChange }) => {\n    return (\n        <div>\n            Filter shown with <input onChange={onChange} value={value}/>\n        </div>\n    );\n};\n\nexport default Filter;","import React from 'react';\n\nconst PersonForm = ({ onSubmit, name, number, onHandleName, onHandleNumber }) => {\n  return (\n    <div>\n      <form onSubmit={onSubmit}>\n          <div>\n              Name: <input value={name} onChange={onHandleName}/>\n          </div>\n          <div>\n              Number: <input value={number} onChange={onHandleNumber}/>\n          </div>\n          <div>\n              <button type=\"submit\" onClick={onSubmit}>add</button>\n          </div>\n      </form>\n    </div>\n  );\n};\n\nexport default PersonForm;","import React from 'react';\n\nconst Message = ({ message, success }) => {\n    const divStyle = {\n        color: success ? 'green' : 'red',\n        background: success ? 'lightgoldenrodyellow': 'lightgrey',\n        fontSize: 20,\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10,\n    };\n    if(!message) return null;\n    return (\n        <div style={divStyle}>{message}</div>\n    );\n};\n\nexport default Message;","import axios from 'axios';\nconst baseUrl = 'http://localhost:3001/api/persons';\n\nconst getAll = () => \n    axios.get(baseUrl).then(response => response.data);\n\n\nconst create = person => \n    axios.post(baseUrl, person).then(response => response.data);\n\n\nconst update = (id, person) => \n    axios.put(`${baseUrl}/${id}`, person).then(response => response.data);\n\n\nconst remove = (id) => \n    axios.delete(`${baseUrl}/${id}`).then(response => response.data);\n\n\nexport default {\n    getAll, \n    create, \n    update, \n    delete: remove,\n};\n","import React, { useState, useEffect } from 'react';\nimport Persons from './components/Persons';\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport Message from './components/Message';\nimport contacts from './services/contacts';\n\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]);\n  const [ newName, setNewName ] = useState('');\n  const [ newNumber, setNewNumber ] = useState('');\n  const [ searchInput, setSearchInput ] = useState('');\n  const [ message, setMessage ] = useState(null);\n  const [ successMessage, setSuccessMessage ] = useState(false);\n\n\n  useEffect (()=> {\n    contacts\n      .getAll()\n      .then(setPersons)\n      .catch(err => {\n        setMessage('Could not get contacts.');\n        setSuccessMessage(false);\n      });\n  }, []);\n\n  useEffect (()=> {\n    setTimeout(()=> {\n      setMessage(null);\n    }, 3000);\n  }, [message]);\n\n  const handleAddPerson = (event) => {\n    event.preventDefault();\n    const newPerson = {\n      name: newName,\n      number: newNumber,\n    };\n    const existingPerson = persons.find(person => person.name === newName);\n    if(existingPerson) {\n      const willUpdate = window\n        .confirm(\n          `${existingPerson.name} is already added to the phonebook, do you want to replace the existing number with the new one?`\n        );\n      if(!willUpdate) return; \n        contacts\n          .update(existingPerson.id, newPerson)\n          .then((updatedPerson) => {\n            setPersons(persons.map(person => person.id === updatedPerson.id ? updatedPerson : person));\n            setMessage(`${updatedPerson.name} has been updated.`);\n            setSuccessMessage(true);\n          })\n          .catch(err => {\n            setMessage(              \n              `Information of ${\n              newPerson.name\n              } has already been removed from the server.`);\n            setSuccessMessage(false);\n          });\n    } else {\n        contacts\n          .create(newPerson)\n          .then(createdPerson => {\n            setPersons(persons.concat(createdPerson));\n            setMessage(`Added ${createdPerson.name}.`);\n            setSuccessMessage(true);\n          })\n          .catch(err => {\n            setMessage(`Could not add ${newPerson.name}.`);\n            setSuccessMessage(false);\n          });\n      };\n    setNewName('');\n    setNewNumber('');    \n  };\n    \n  const handleDelete = (person) => {\n    const willDelete = window.confirm(`Delete ${person.name} ?`);\n    if(!willDelete) return;\n    contacts\n      .delete(person.id)\n      .then(() => {\n        setPersons(persons.filter(p => p.id !== person.id));\n      });\n  };\n\n  const handleSearchInput = (event) => {\n    setSearchInput(event.target.value)\n  };\n\n  const handleNewName = (event) => {\n    setNewName(event.target.value)\n  };\n\n  const handleNewNumber = (event) => {\n    setNewNumber(event.target.value)\n  };\n\n  const personsToShow = persons.filter(person => person.name.toLowerCase().includes(searchInput.toLowerCase()));\n\n  return (\n    <div style={{\n      backgroundColor: 'lightyellow', \n      borderStyle: 'solid', \n      borderColor: 'lightblue', \n      borderRadius: 25\n    }}>\n      <h2 style={{color: 'darkgreen'}}>Phonebook</h2>\n        <Message \n          message={message}\n          success={successMessage}\n        />\n        <Filter \n          value={searchInput} \n          onChange={handleSearchInput}\n        />\n      <h3 style={{color: 'darkred'}}>Add a new</h3>\n        <PersonForm \n          onSubmit={handleAddPerson}\n          name={newName}\n          number={newNumber}\n          onHandleName={handleNewName}\n          onHandleNumber={handleNewNumber}\n        />\n      <h3 style={{color: 'orange'}}>Numbers</h3>\n        <Persons \n          persons={personsToShow} \n          onDelete={handleDelete}\n        />\n    </div>\n  );\n};\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}